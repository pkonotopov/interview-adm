# Автоматизация развертывания PostgreSQL для разработчика

## 1. Задача

Дан репозиторий, содержащий в себе 

   1. [`docker-compose-broken.yml`](../broken/docker-compose-broken.yml)
   2. [Описание проекта](../broken/README.md)
   3. Указания на то, что нужно сделать чтобы запустить PostgreSQL

Требуется:

1. Файл [`docker-compose-broken.yml`](docker-compose-broken.yml) - сломан, что-то в нем не правильно. Нужно найти и устранить "косяки".
2. Файл `docker-compose-broken.yml` после исправления должен быть переименован в `docker-compose.yml`
3. Написать тест (на любом удобном скриптовом языке), который проверяет, что запуск контейнеров из `docker-compose.yml` работает корректно
4. При запуске `docker-compose.yml` создается база данных interview
    1.  Написать скрипт на любом удобном языке, который
        1.  Выгружает дамп схемы данной БД в файл `dump/schema.sql`
        2.  Выгружает данные из таблиц схемы в файл `dump/<tablename>.csv`
        3.  Сжимает файлы помощью `xz` со средней степерью компрессии 
    2.  Написать скрипт на любом удобном языке, который
        1.  Загружает дамп схемы в БД `interview`
        2.  Загружает данные в таблицы БД `interview`
        3.  Загрузка данных в БД должна происходить параллельно
5. Добавить dev ветку в репозиторий
6. Все изменения в main ветку должны быть только через pull-реквест
   1.  Мерж изменений возможен при корректном запуске `docker-compose.yml`
   2.  Мерж изменений возможен при прохождении всех тестов
7. Внедрить CI для проверки для `docker-compose.yml` и скриптов
8. Написать документацию в формате Markdown по исправлениям `docker-compose.yml`
9. Написать документацию в формате Markdown по развертыванию БД `interview` из сделанного дампа
10. (*) Необходимо изучить, чем может быть полезна [Metabase](https://www.metabase.com)

## 2. Результат

1. `docker-compose.yml` из ветки main может быть запущена любым, кто клонирует данный репозиторий
2. Cкрипты работают корректно
3. CI работает корректно
4. Написана документация